global_settings = {
  default_region = "region1"
  regions = {
    region1 = "eastus2"
  }
}

provider_azurerm_features_keyvault = {
  // set to true to cleanup the CI
  purge_soft_delete_on_destroy = true
}

resource_groups = {
  kv_region1 = {
    name = "example-rg1"
  }
}

keyvaults = {
  vault = {
    name               = "vault"
    resource_group_key = "kv_region1"
    sku_name           = "standard"
    creation_policies = {
      logged_in_user = {
        certificate_permissions = ["Get", "List", "Update", "Create", "Import", "Delete", "Purge", "Recover", "Getissuers", "Setissuers", "Listissuers", "Deleteissuers", "Manageissuers", "Restore", "Managecontacts"]
        secret_permissions      = ["Set", "Get", "List", "Delete", "Purge"]
      }
    }
  }
}

dynamic_keyvault_certificates = {
  vault = {
    # Self Signed Certificate e.g. created with TLS or ACME Provider
    # dynamic_certificate_from_output = {
    #   secret_name   = "dynamic-certificate-from-output"
    #   output_key    = "self_signed_certs"
    #   resource_key  = "self_signed_cert"
    #   attribute_key = "certificate_bundle_pem"
    # }
    dynamic_certificate_pem = {
      secret_name   = "dynamic-certificate-pem"
      // certificate base64 encoded
      contents      = "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2QUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktZd2dnU2lBZ0VBQW9JQkFRQ3lKR2o4dXlrTUN3UmIKcEx6NU9YWTJUcy9WaWpLKzZIV2ZVZTI2QlgxMzYwOXluWkZRbXhURHJkVlR1RXcrT1czcGxEUUlMTGZQSWNlZwozYzdCYnI0VlNNazhvNWFhaTFSclZKemxKMlUvNWlDK3l1Uk0wSFV5Y09RbE01K1NiU3QyY1gvSCtScTlOdTM0CmJBVXRIM0s4NE9yb2ZnRFBPb3dsRjdrSm0yL29WaGRkeTVqOU9DWUpIUmFSZys3R1ZlSnFDaHQ0NjNkYjlBMloKYXZ5a0VTb3EvWGpxR1NGTEpGRjBXb0ZFSklMRE0xY3ZyZWJRNEl6NTMwSWVDTHFqRjI5NzhOcFJGMTk2TTBKOApiVVk0STNtNTk3Nk04Vk8zVWxWUk53cThkZWc1YVVkeW04eVQ2T2cxaTlEZVZLRnlaOHVWaHJKZFI1WUNKMzI1CmxqeERiQUpyQWdNQkFBRUNnZ0VBTVp3WUxNSEdkWmNmMkpHeEdzclkwOWp3NGl3Qlk4OEM2cUo3VE1HNHBrdSsKclZHYUpWTjYzZCtzT0F0c0dDd1FJdXRsN2h6ZDkyNFYxUVBRVDJnU3dZU3FuaHVFbG5kVXhDc2xJbC90UDNWTQpDellmakJERmdvMlR5NVJyelBCZ0dUVVVlOUV3bEI4VytJYkVqa05peFp6eGJsdWd5QlVxOEMyQ0YxM1ZOV05GClRSc1c1SXpiUnpaQm9Rd1U0aFQ5NWJGNkxkcHp1NWRFNjY5eEZrSmh6cWVlczNqWkVLK3BvVWV0VjFneEt1TkUKUW5MN1ZPQXdraFp5UjR4cXg2cVZPaEw0QlFSempJSDUzRlJBRWFiWmZhUVRDMm0wVlNzMndlOFJhaFFTOEFrYwptNitpWkJHcVFhQ0lLVDBQSkhNbi9GaFVQTHNwZEU3b1Z5WXc4UU5OS1FLQmdRRE9Wa0hVU25oOFhCR2VwMExXClVtdmtRQ1VvcXMzZnhKMmh3VjMxZ2IwZEt4OUZPU25qMkRlUHFic2hsVWdBMW4vcnFXQ05aNnhNazh3OWh2dDkKSXlkWWg3TWVjK3l4VTYxaElET1ZkcUxFS2d1UWZ5akZ1NzNUYTNIRDlKOEZvazBmWmFINWxMd3k1NHUvVjBWSApmaUpzZ3RTOTZVZnRuUC93ZnRWZUlpdFFEd0tCZ1FEZEJPVkt5S2xyUWFuWVptVGRTVUxFaE1TQnRDdm50ZTM4ClgvM3NwRms5WE45Z0NzUnpoekozQkM3NzA4SUlOdVZJV1kzRzBoYUNRNDMweURna29SNm8yWTlNSU1TNkQwWUQKREVXaXM5c2pEQlFQNEMrMXc1ZVlKRWFWUllaeE1vMXBsZitrNk5DK3ZaSXYxQXlPQTQ1S0twUDhZSmdmNk5GQQpNY2h0UVRkTDVRS0JnSDlOZEp2M3ZsSnJzMnRCSXRsOFRKaXNnc0NPY1NwbjhpRkVYaVlFZjVzcGFjZVp0eUNkCjI5bkZESEZ4MnRTNWduN3hKMkxXM2RUNU12K2E4anFJbjlQZEZVUHFuZFBpSG94WUE3dHBVSTdhcWZ2aW1GTTIKdTYxZkV2ZWxTeDk4dlR4cnhmMW9LSnozZ3A3d3h3dU81TW95QmZPTnBCVVQwa3ljMUNPWnpVTTlBb0dBWjZ6aQpPZUJDeUpNMnJ0SHBRbndaRzhJRHc2dldaSXpNby9RTFVyUU5RR0dPVHFqK1dncnpPeXoxTlIreUJ0UnBYVFRVCjhveWVEbUROK0NMcll4TkpKSDlaWHFhSVlaYkVpcTE1Qk1kRlpmMUdjK1AvdlUyUWtNZURiSVgrZUo3MEFyRmcKQitWRjloTkt2YkRFYXVGMEg0bzFmTTk2ekkwVGl2OVBPeUM2WlprQ2dZQVdkUjNxYVJrUzJuVVNiT2hrS2s2ZgoyK0xkRWMwcmFuSE5EYW9kMzZTbDYrRm5RbVNSWC90QTB3UUFnZnhoRERlWENGR3lnV1EvKytTUmt3a0g1Nnp2CjYxb0lCWmlEdkd5YkYrb251dDRJRnlTU0NQM3BiQ2ExeHpVNVNUaVgzMTdOVUVkUG00M3hOVS96eVA3MFlid1UKc01rd1AvUXFmaVcyTVhVcTRoaEU3QT09Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURiekNDQWxlZ0F3SUJBZ0lRUFMwL2ZLTlhWWUpoWW5YVm9zU0wxREFOQmdrcWhraUc5dzBCQVFzRkFEQVcKTVJRd0VnWURWUVFERXd0bGVHRnRjR3hsTG1OdmJUQWVGdzB5TWpBM01qWXhORFUxTlROYUZ3MHpNakEzTWpNeApORFUxTlROYU1GY3hDekFKQmdOVkJBWVRBbFZUTVJ3d0dnWURWUVFLRXhORmVHRnRjR3hsSUZObGJHWWdVMmxuCmJtVmtNUlF3RWdZRFZRUUxFd3RsZUdGdGNHeGxMbU52YlRFVU1CSUdBMVVFQXhNTFpYaGhiWEJzWlM1amIyMHcKZ2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRQ3lKR2o4dXlrTUN3UmJwTHo1T1hZMgpUcy9WaWpLKzZIV2ZVZTI2QlgxMzYwOXluWkZRbXhURHJkVlR1RXcrT1czcGxEUUlMTGZQSWNlZzNjN0JicjRWClNNazhvNWFhaTFSclZKemxKMlUvNWlDK3l1Uk0wSFV5Y09RbE01K1NiU3QyY1gvSCtScTlOdTM0YkFVdEgzSzgKNE9yb2ZnRFBPb3dsRjdrSm0yL29WaGRkeTVqOU9DWUpIUmFSZys3R1ZlSnFDaHQ0NjNkYjlBMlphdnlrRVNvcQovWGpxR1NGTEpGRjBXb0ZFSklMRE0xY3ZyZWJRNEl6NTMwSWVDTHFqRjI5NzhOcFJGMTk2TTBKOGJVWTRJM201Cjk3Nk04Vk8zVWxWUk53cThkZWc1YVVkeW04eVQ2T2cxaTlEZVZLRnlaOHVWaHJKZFI1WUNKMzI1bGp4RGJBSnIKQWdNQkFBR2plREIyTUE0R0ExVWREd0VCL3dRRUF3SUZvREFkQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQVFZSQpLd1lCQlFVSEF3SXdEQVlEVlIwVEFRSC9CQUl3QURBZkJnTlZIU01FR0RBV2dCVEFxYWFkZ1diNGFLc1IyS2VFCmZlQ1NBNEFqZlRBV0JnTlZIUkVFRHpBTmdndGxlR0Z0Y0d4bExtTnZiVEFOQmdrcWhraUc5dzBCQVFzRkFBT0MKQVFFQVhSRkVraTVTbXJkL2p5OGk5TzBhYmpDSWczd0NpQkxaU0V0aE1MZ3hIbjZwUDN4K0xialZ3OGdOb0FQNApUNndaTmdhWkYvSlF0c09UQ2Ird0thenc0b1IvOE5xajFIWjdWT0hERU5yWVdPaG5nSjl0MFh1TC90OU1UaXBXCnRkR21wT0xVMURReU9VRFlJbWhhY05IVUxaeHd4TFdVU1F4Y25SSUJRTjdjemZ1NjFmcFp0dWFhMkhTYzIrVDkKNjFKeG5hRERlWldzQXQ1MXp3bjk0M3h2V3BFQjB1dGVKQnVIVWNUbUxGalVoaVV4RmxSM3Q0dWI0bDdPR1pmWgoxUG90OE4wM2lmNUN1N2lldGRhSUczYW4wNWZKYnJFTXVBaXFEdWtjb3FnNmxVRzlyZVdHQnRKUlBIMHMwRHNxCkVXNFM5Tzc2eHhUTWxLai9Tdlh2WHVkVUVBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
    }
    dynamic_certificate_pfx = {
      secret_name   = "dynamic-certificate-pfx"
      // certificate base64 encoded
      contents = "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"
    }
  }
}
